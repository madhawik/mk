<template name="childVariantImageMedia">
  {{#each media}}
    <div class="media-item">
      <img src="{{url store='large'}}">
    </div>
  {{else}}
    <div class="media-item">
      <img src="/resources/placeholder.gif">
    </div>
  {{/each}}
</template>

<template name="childVariantForm">
  <div class="panel child-variant-form {{active}}">
    <a
      class="panel-heading panel-heading-flex js-child-variant-heading"
      role="tab"
      id="{{name}}"
      data-toggle="collapse"
      data-parent="#payment-methods-accordian"
      aria-expanded="false"
      aria-controls="{{childVariantFormId}}"
      href="#{{childVariantFormId}}"
    >
      <div class="media">
        {{> childVariantImageMedia media=featuredMedia}}
      </div>
      <div class="panel-title">
        {{optionTitle}} - {{formatPrice price true}}
        {{#if isDeleted}}
          <div class="panel-subheading">
            <span class="badge badge-danger" data-i18n="app.archived">
              <span>Archived</span>
            </span>
          </div>
        {{/if}}
      </div>
      <div class="panel-controls">
        {{> React component=Icon icon="angle-down"}}
      </div>
    </a>
    <div id="{{childVariantFormId}}" class="panel-collapse collapse collapsed child-variant-collapse" role="tabpanel" aria-labelledby="{{name}}">
      <div class="panel-toolbar">
        <div class="panel-controls">
          {{#if isDeleted}}
            {{> button
              icon="refresh"
              className="btn btn-default js-restore-child-variant"
              tooltip="Restore from Archive"
            }}
          {{else}}
            {{> button
              icon="archive"
              className="btn btn-default js-remove-child-variant"
              tooltip="Archive Option"
            }}
          {{/if}}
        </div>
      </div>
      <div class="panel-body">
        <div class="child-variant-form" id="{{childVariantFormId}}">
          <div class="rui items flex">
            <div class="rui item full">
              <div class="form-group">
                  <div class="upload-form">
                    {{> upload
                      mediaTemplate="childVariantImageMedia"
                      media=media
                      onUpload=handleFileUpload
                    }}
                  </div>
                </div>
              </div>

            <div class="rui item half">
              <div class="rui textfield form-group {{hasErrorClassName 'optionTitle'}}">
                <label for="option-{{childVariantFormId}}" data-i18n="productVariant.optionTitle">Option Title</label>
                <input
                  id="option-{{childVariantFormId}}"
                  type="text"
                  class="form-control input-sm child-variant-input"
                  value="{{optionTitle}}"
                  name="optionTitle"
                  placeholder="Add option title"
                  />
                {{#with hasValidationMessage 'optionTitle'}}
                  <span class="help-block">{{message}}</span>
                {{/with}}
              </div>
            </div>

            <div class="rui item half">
              <div class="rui textfield form-group {{hasErrorClassName 'title'}}">
                <label for="label-{{childVariantFormId}}" data-i18n="productVariant.title">Cart / Checkout Label</label>
                <input
                  id="label-{{childVariantFormId}}"
                  type="text"
                  class="form-control input-sm child-variant-input"
                  value="{{title}}"
                  name="title"
                  placeholder="Add cart label"
                  />
                {{#with hasValidationMessage 'title'}}
                  <span class="help-block">{{message}}</span>
                {{/with}}
              </div>
            </div>

            <div class="rui item half">
              <div class="rui textfield form-group {{hasErrorClassName 'inventoryQuantity'}}">
                <label for="quantity-{{childVariantFormId}}" data-i18n="productVariant.inventoryQuantity">Quantity</label>
                <input
                  id="quantity-{{childVariantFormId}}"
                  type="number"
                  class="form-control input-sm child-variant-input"
                  value="{{inventoryQuantity}}"
                  name="inventoryQuantity"
                  placeholder="QTY"
                  />
                {{#with hasValidationMessage 'inventoryQuantity'}}
                  <span class="help-block">{{message}}</span>
                {{/with}}
              </div>
            </div>

            <div class="rui item half">
              <div class="rui textfield form-group {{hasErrorClassName 'price'}}">
                <label for="price-{{childVariantFormId}}" data-i18n="productVariant.price" class="column-price">Price</label>
                <input
                  id="price-{{childVariantFormId}}"
                  type="number"
                  class="form-control
                  input-sm child-variant-input"
                  value="{{price}}"
                  name="price"
                  placeholder="Add price"
                  />
                {{#with hasValidationMessage 'price'}}
                  <span class="help-block">{{message}}</span>
                {{/with}}
              </div>
            </div>

            <div class="rui item half">
              <div class="rui textfield form-group {{hasErrorClassName 'estimatedFCC'}}">
                <label for="estimatedFCC-{{childVariantFormId}}" data-i18n="productVariant.estimatedFCC" class="column-height">Estimated FCC</label>
                <input
                  id="estimatedFCC-{{childVariantFormId}}"
                  type="number"
                  class="form-control
                  input-sm child-variant-input"
                  value="{{estimatedFCC}}"
                  name="estimatedFCC"
                  placeholder="Add esimated FCC"
                  />
                {{#with hasValidationMessage 'estimatedFCC'}}
                  <span class="help-block">{{message}}</span>
                {{/with}}
              </div>
            </div>

            <div class="rui item half">
              <div class="rui textfield form-group {{hasErrorClassName 'wholesalePrice'}}">
                <label for="productionColor-{{childVariantFormId}}" data-i18n="productVariant.wholesalePrice" class="column-wholesalePrice">wholesalePrice</label>
                <input
                  id="wholesalePrice-{{childVariantFormId}}"
                  type="number"
                  class="form-control
                  input-sm child-variant-input"
                  value="{{wholesalePrice}}"
                  name="wholesalePrice"
                  placeholder=" "
                  />
                {{#with hasValidationMessage 'wholesalePrice'}}
                  <span class="help-block">{{message}}</span>
                {{/with}}
              </div>
            </div>

            <div class="rui item half">
              <div class="rui textfield form-group {{hasErrorClassName 'compareAtPrice'}}">
                <label for="compareAtPrice-{{childVariantFormId}}" data-i18n="productVariant.compareAtPrice" class="column-height">Estimated FCC</label>
                <input
                  id="compareAtPrice-{{childVariantFormId}}"
                  type="number"
                  class="form-control
                  input-sm child-variant-input"
                  value="{{compareAtPrice}}"
                  name="compareAtPrice"
                  placeholder="compareAtPrice"
                  />
                {{#with hasValidationMessage 'compareAtPrice'}}
                  <span class="help-block">{{message}}</span>
                {{/with}}
              </div>
            </div>


            <div class="rui item half">
              <div class="rui textfield form-group {{hasErrorClassName 'dimensions'}}">
                <label for="dimensions-{{childVariantFormId}}" data-i18n="productVariant.dimensions" class="column-height">Heel Height</label>
                <input
                  id="dimensions-{{childVariantFormId}}"
                  type="string"
                  class="form-control
                  input-sm child-variant-input"
                  value="{{dimensions}}"
                  name="dimensions"
                  placeholder="height"
                  />
                {{#with hasValidationMessage 'dimensions'}}
                  <span class="help-block">{{message}}</span>
                {{/with}}
              </div>
            </div>
            <div class="rui item half">
              <div class="rui textfield form-group {{hasErrorClassName 'colorCode'}}">
                <label for="colorCode-{{childVariantFormId}}" data-i18n="productVariant.colorCode" class="column-height">ColorCode</label>
                <input
                  id="colorCode-{{childVariantFormId}}"
                  type="string"
                  class="form-control
                  input-sm child-variant-input"
                  value="{{colorCode}}"
                  name="colorCode"
                  placeholder="colorCode"
                  />
                {{#with hasValidationMessage 'colorCode'}}
                  <span class="help-block">{{message}}</span>
                {{/with}}
              </div>
            </div>

            <div class="rui item half">
              <div class="rui textfield form-group {{hasErrorClassName 'productionColor'}}">
                <label for="productionColor-{{childVariantFormId}}" data-i18n="productVariant.productionColor" class="column-productionColor">productionColor</label>
                <input
                  id="productionColor-{{childVariantFormId}}"
                  type="string"
                  class="form-control
                  input-sm child-variant-input"
                  value="{{productionColor}}"
                  name="productionColor"
                  placeholder="productionColor"
                  />
                {{#with hasValidationMessage 'productionColor'}}
                  <span class="help-block">{{message}}</span>
                {{/with}}
              </div>
            </div>

            <div class="rui item half">
              <div class="rui textfield form-group {{hasErrorClassName 'nrf'}}">
                <label for="nrf-{{childVariantFormId}}" data-i18n="productVariant.nrf" class="column-nrf">NRF</label>
                <input
                  id="nrf-{{childVariantFormId}}"
                  type="string"
                  class="form-control
                  input-sm child-variant-input"
                  value="{{nrf}}"
                  name="nrf"
                  placeholder="nrf"
                  />
                {{#with hasValidationMessage 'nrf'}}
                  <span class="help-block">{{message}}</span>
                {{/with}}
              </div>
            </div>

            <div class="rui item half">
              <div class="rui textfield form-group {{hasErrorClassName 'minQty'}}">
                <label for="minQty-{{childVariantFormId}}" data-i18n="productVariant.minQty" class="column-minQty">minQty</label>
                <input
                  id="minQty-{{childVariantFormId}}"
                  type="number"
                  class="form-control
                  input-sm child-variant-input"
                  value="{{minQty}}"
                  name="minQty"
                  placeholder="minQty"
                  />
                {{#with hasValidationMessage 'minQty'}}
                  <span class="help-block">{{message}}</span>
                {{/with}}
              </div>
            </div>

            <div class="rui item half">
              <div class="rui textfield form-group {{hasErrorClassName 'size'}}">
                <label for="size-{{childVariantFormId}}" data-i18n="productVariant.size" class="column-size">size</label>
                <input
                  id="size-{{childVariantFormId}}"
                  type="number"
                  class="form-control
                  input-sm child-variant-input"
                  value="{{size}}"
                  name="size"
                  placeholder="size"
                  />
                {{#with hasValidationMessage 'size'}}
                  <span class="help-block">{{message}}</span>
                {{/with}}
              </div>
            </div>

          </div>
        </div> {{!-- /.child-variant-form --}}
      </div> {{!-- /.panel-body --}}
    </div> {{!-- /.panel-collapse --}}
  </div> {{!-- /.panel --}}
</template>
